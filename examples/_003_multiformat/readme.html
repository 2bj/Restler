<!DOCTYPE html>
<html>
<head>
<title>Luracast Restler 2.0 Example:- Multi-format</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="../resources/markdown.css"/>
<link rel="stylesheet" type="text/css" href="../resources/jquery.snippet.min.css"/>
<link rel="stylesheet" type="text/css" href="../resources/facebox.css"/>
<link rel="stylesheet" type="text/css" href="../resources/hacks.css"/>

<script type="text/javascript" src="../resources/jquery-1.6.2.min.js"></script>
<script type="text/javascript" src="../resources/jquery.snippet.min.js"></script>
<script type="text/javascript" src="../resources/facebox.js"></script>

<script type="text/javascript">
 $(document).ready(function(){
 	 //$('a[target*=_blank]').facebox();
	 $("abbr").click(function(){
	 	$('#codeviewer').load('../resources/getsource.php?file='+$(this).attr("title"), function(){
	 		$("pre#php").snippet("php",{style:"acid",showNum:false});
	 		jQuery.facebox({ div: '#codeviewer' });
	 	});
 	 });
 })
</script>
</head>
<body>
<div id="codeviewer" style="display:none;"></div>
<nav id="left">
<img src="../resources/Restler2.gif" width="126" height="126" title="Luracast Restler 2.0"/>
<h3><a href="../index.html">Examples</a></h3>
<ul>
<li><a href="../_001_helloworld/readme.html" title="Let's say hello!">Hello World</a></li>
<li><a href="../_002_minimal/readme.html" title="Less is more">Minimal</a></li>
<li><a href="../_003_multiformat/readme.html" title="Serving what the client wants">Multi-format</a></li>
<li><a href="../_004_error_response/readme.html" title="Making use of HTTP status codes">Error Response</a></li>
<li><a href="../_005_protected_api/readme.html" title="Creating restricted zone">Protected API</a></li>
<li><a href="../_006_crud/readme.html" title="using POST, GET, PUT and DELETE">CRUD</a></li>
<li>
</nav>
<article id="right">
<h2>Multi-format</h2>

<p>This BMI calculator service shows how you can serve data in different 
formats using Rester. This example uses JsonFormat (default) and XmlFormat.</p>

<p>First  format specified in <code>Restler::setSuportedFormats</code> is used as the default 
format when client does not specify the format.</p>

<p>Client can specify the format either using  extension like .json or specify 
the MIME type in HTTP Accept Header</p>

<blockquote>
  <p>This API Server is made using the following php files/folders</p>
  
  <ul>
  <li><abbr title="_003_multiformat/index.php">index.php</abbr>      (gateway)</li>
  <li><abbr title="_003_multiformat/bmi.php">bmi.php</abbr>      (api)</li>
  <li><abbr title="../restler/restler.php">restler.php</abbr>      (framework)</li>
  <li><abbr title="../restler/xmlformat.php">xmlformat.php</abbr>      (format)</li>
  </ul>
</blockquote>

<p>This API Server exposes the following URIs</p>

<pre><code>GET bmi                 ⇠ BMI::index()
GET bmi/:height         ⇠ BMI::index()
GET bmi/:height/:weight ⇠ BMI::index()
</code></pre>

<p>Try the following links in your browser</p>

<dl>
<dt>GET <a href="index.php/bmi" target="_blank">bmi</a></dt>
<dd>
<pre><code>{
 "bmi": 31.77,
 "message": "Obesity",
 "metric": {
   "height": "162.6 centimeter",
   "weight": "84 kilograms"
 },
 "imperial": {
   "height": "5 feet 4 inches",
   "weight": "185.19 pounds"
 }
}
</code></pre>
</dd>

<dt>GET <a href="index.php/bmi.xml" target="_blank">bmi.xml</a></dt>
<dd><pre><code>&lt;?xml version="1.0"?&gt;
&lt;response&gt;
 &lt;bmi&gt;31.77&lt;/bmi&gt;
 &lt;message&gt;Obesity&lt;/message&gt;
 &lt;metric&gt;
   &lt;height&gt;162.6 centimeter&lt;/height&gt;
   &lt;weight&gt;84 kilograms&lt;/weight&gt;
 &lt;/metric&gt;
 &lt;imperial&gt;
   &lt;height&gt;5 feet 4 inches&lt;/height&gt;
   &lt;weight&gt;185.19 pounds&lt;/weight&gt;
 &lt;/imperial&gt;
&lt;/response&gt;
</code></pre></dd>

<dl>
<dt>GET <a href="index.php/bmi.json" target="_blank">bmi.json</a></dt>
<dd>
<pre><code>{
 "bmi": 31.77,
 "message": "Obesity",
 "metric": {
   "height": "162.6 centimeter",
   "weight": "84 kilograms"
 },
 "imperial": {
   "height": "5 feet 4 inches",
   "weight": "185.19 pounds"
 }
}
</code></pre>
</dd>
</dl>

</article>
</body>
</html>